<!DOCTYPE html>

<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Accueil - Rapports d'Incidents</title>
<link rel="stylesheet" href="styles.css">
</head>
<body>
<%- include('partials/header', { username: username, page: 'index' }) %>
<main>
<section>
<h1>Liste des Incidents Signalé</h1>
<p>Voici les incidents les plus récents dans notre à Louvain-la-Neuve.</p>

    <% 
    if (incidents && incidents.length > 0) { 
    %>
        <div class="incident-list">
            <% incidents.forEach(incident => { %>
                <div class="incident-card">
                    <h2><%= incident.type.toUpperCase() %></h2>
                    <p class="incident-date">
                        Observé le : <%= new Date(incident.date).toLocaleDateString('fr-FR') %>
                    </p>
                    <p class="incident-location">
                        Localisation : <strong><%= incident.location %></strong>
                    </p>
                    <p class="incident-description">
                        Description : <%= incident.description %>
                    </p>
            <% }) %>
        </div>
    <% } else { %>
        <div class="no-incidents">
            <p>Aucun incident n'a été signalé pour le moment. Soyez le premier !</p>
            <a href="/report" class="btn btn-primary">Signaler un incident</a>
        </div>
    <% } %>

</section>
</main>
<style>
</style>
</body>
</html>